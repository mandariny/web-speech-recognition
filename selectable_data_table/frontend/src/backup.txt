import React, { useState, useEffect, ReactText } from "react"
import {
  ComponentProps,
  Streamlit,
  withStreamlitConnection,
} from "streamlit-component-lib"

const SelectableDataTable: React.FC<ComponentProps> = props => {
  const [count, setCount] = useState(0)

  useEffect(() => {
    Streamlit.setFrameHeight(350)
  })

  const handleClick = (): void => {
    let cnt = count
    setCount(cnt + 1)
    Streamlit.setComponentValue(cnt + 1)
  }

  return (
    <div>
      <button
        onClick={handleClick}
      >
        Click me!
      </button>
    </div>
  )
}

export default withStreamlitConnection(SelectableDataTable)
